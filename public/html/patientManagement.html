<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion de Pacientes</title>
    <link rel="stylesheet" href="/style/patients.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
</head>

<body style="background-color: #F0F2F5;">
    <div class="row">
        
        <div class="container-fluid container-P mt-4" >
        <div class="card m-auto">
            
            <div class="card-header">
            <!-- <div class=" opt-t"> -->
                <h1>Gestión de Pacientes</h1>

                <div class="options">
                    <a class="opt-icons" href="#" data-bs-toggle="modal" data-bs-target="#agregarPacienteModal"><i 
                        class="bi bi-person-plus"></i></a>
                    <a class="opt-icons" href="#" data-bs-toggle="modal" data-bs-target="#eliminarPacienteModal"><i 
                        class="bi bi-person-slash"></i></i></a>
                    <a class="opt-icons" href="#" data-bs-toggle="modal" data-bs-target="#editarPacienteModal"><i
                            class="bi bi-pencil"></i></a>
                    <a class="opt-icons" href="" data-bs-toggle="modal" data-bs-target="#buscarPacienteModal"><i
                            class="bi bi-search"></i></a>
                    <a class="opt-icons" href="" data-bs-toggle="modal" data-bs-target="#agregarContactoEmergenciaModal"><i 
                        class="bi bi-telephone-x"></i></a>
                    <a class="opt-icons" href="" data-bs-toggle="modal" data-bs-target="#buscarContactosEmergencia"><i 
                        class="bi bi-bookmark-plus"></i></a>

                </div>
            <!-- </div> -->
        </div>
            <div class="table-c">
                <table>
                    <thead>
                        <tr>

                            <th class="table-cell">Identificación</th>
                            <th class="table-cell">Nombre</th>
                            <th class="table-cell">Apellidos</th>
                            <th class="table-cell">Peso</th>
                            <th class="table-cell">Edad</th>
                            <th class="table-cell">Altura</th>
                            <th class="table-cell">Enfermedades que padece</th>
                            <th class="table-cell">Tipo de sangre</th>
                            <th class="table-cell">Medicamentos a los que es alérgico</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>

                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>
    </div>
    <!-- Modal de Agregar Paciente -->
    <div class="modal-1">
        <div class="modal fade" id="agregarPacienteModal" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content m-Pa">
                    <div class="modal-topic">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Agregar Paciente</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-Principal">
                                <div class="mb-3">
                                    <label for="identificacion" class="form-label">Identificación</label>
                                    <input type="text" class="form-control" id="identificacion">

                                </div>

                                <div class="forms-P">
                                    <div class="form-1">
                                        <div class="mb-3">
                                            <label for="nombre" class="form-label">Nombre</label>
                                            <input type="text" class="form-control" id="nombre">
                                        </div>
                                        <div class="mb-3">
                                            <label for="edad" class="form-label">Fecha Nacimiento</label>
                                            <input type="date" class="form-control" id="edad">
                                        </div>
                                        <div class="mb-3">
                                            <label for="altura" class="form-label">Altura</label>
                                            <input type="text" class="form-control" id="altura">
                                        </div>

                                        <div class="mb-3">
                                            <label for="tipoSangre" class="form-label">Tipo de sangre</label>
                                            <select class="form-select" id="tipoSangre">
                                                <option value="A+">A+</option>
                                                <option value="A-">A-</option>
                                                <option value="B+">B+</option>
                                                <option value="B-">B-</option>
                                                <option value="AB+">AB+</option>
                                                <option value="AB-">AB-</option>
                                                <option value="O+">O+</option>
                                                <option value="O-">O-</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-2">
                                        <div class="mb-3">
                                            <label for="apellido" class="form-label">Apellido</label>
                                            <input type="text" class="form-control" id="apellido">
                                        </div>
                                        <div class="mb-3">
                                            <label for="peso" class="form-label">Peso</label>
                                            <input type="text" class="form-control" id="peso">
                                        </div>

                                        <div class="mb-3">
                                            <label for="enfermedades" class="form-label">Enfermedades que padece</label>
                                            <input type="text" class="form-control" id="enfermedades">
                                        </div>
                                        <div class="mb-3">
                                            <label for="alergias" class="form-label">Medicamentos alérgicos</label>
                                            <input type="text" class="form-control" id="alergias">

                                        </div>
                                    </div>

                                </div>

                        </form>
                    </div>
                    <div class="modal-btns">
                        <div class="modal-footer ">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                id="AgregarPacienteBtn">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Eliminar Paciente -->
    <div class="modal-2">
        <div class="modal fade" id="eliminarPacienteModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Eliminar Paciente</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Por favor, ingrese la identificación del paciente que desea eliminar:</p>
                        <input type="text" class="form-control" id="idPacienteEliminar">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-danger" id="eliminarPacienteBtn">Eliminar</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Modal de Editar Paciente -->
    <div class="modal fade" id="editarPacienteModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Editar Paciente</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Por favor, ingrese la identificación del paciente que desea editar:</p>
                    <input type="text" class="form-control" id="idPacienteEditar">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="buscarPacienteBtn">Buscar</button>
                </div>
            </div>
        </div>
    </div>



    <!-- Modal de editar Paciente -->

    <div class="modal-4">
        <div class="modal fade" id="editarPacienteForm" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content m-Pa">
                    <div class="modal-topic">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Editar Paciente</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-Principal">
                                <div class="mb-3">
                                    <label for="identificacion" class="form-label">Identificación</label>
                                    <input type="text" class="form-control" id="identificacionEditar" disabled>
                                </div>

                                <div class="forms-P">
                                    <div class="form-1">
                                        <div class="mb-3">
                                            <label for="nombre" class="form-label">Nombre</label>
                                            <input type="text" class="form-control" id="nombreEditar">
                                        </div>
                                        <div class="mb-3">
                                            <label for="edad" class="form-label">Edad</label>
                                            <input type="text" class="form-control" id="edadEditar">
                                        </div>
                                        <div class="mb-3">
                                            <label for="altura" class="form-label">Altura</label>
                                            <input type="text" class="form-control" id="alturaEditar">
                                        </div>

                                        <div class="mb-3">
                                            <label for="tipoSangre" class="form-label">Tipo de sangre</label>
                                            <select class="form-select" id="tipoSangreEditar">
                                                <option value="A+">A+</option>
                                                <option value="A-">A-</option>
                                                <option value="B+">B+</option>
                                                <option value="B-">B-</option>
                                                <option value="AB+">AB+</option>
                                                <option value="AB-">AB-</option>
                                                <option value="O+">O+</option>
                                                <option value="O-">O-</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-2">
                                        <div class="mb-3">
                                            <label for="apellido" class="form-label">Apellido</label>
                                            <input type="text" class="form-control" id="apellidoEditar">
                                        </div>
                                        <div class="mb-3">
                                            <label for="peso" class="form-label">Peso</label>
                                            <input type="text" class="form-control" id="pesoEditar">
                                        </div>

                                        <div class="mb-3">
                                            <label for="enfermedades" class="form-label">Enfermedades que padece</label>
                                            <input type="text" class="form-control" id="enfermedadesEditar">
                                        </div>
                                        <div class="mb-3">
                                            <label for="alergias" class="form-label">Medicamentos alérgicos</label>
                                            <input type="text" class="form-control" id="alergiasEditar">

                                        </div>
                                    </div>

                                </div>

                        </form>
                    </div>
                    <div class="modal-btns">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                            <button type="button" class="btn btn-primary"
                                id="actualizarPacienteBtnModal">Actualizar</button>
                        </div>



                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Buscar paciente por ID -->

    <div class="modal-7">
        <div class="modal fade" id="buscarPacienteModal" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Buscar Paciente</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Por favor, ingrese la identificación del paciente que desea buscar:</p>
                        <input type="text" class="form-control" id="idPacienteBuscar">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-primary" onclick="buscarPaciente()">Buscar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal para escoger si agregar contacto de emergencia -->


    <div class="modal-6">
        <div class="modal fade" id="selectFamiliar" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Agregar contacto de emergencia</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>¿Quieres agregar un contacto de emergencia?</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#agregarContactoEmergenciaModal">Si</button>

                    </div>
                </div>
            </div>
        </div>
    </div>




    <!-- Modal para Agregar Contacto Familiar-->


    <div class="modal-5">
        <div class="modal fade" id="agregarContactoEmergenciaModal" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content m-Pa">
                    <div class="modal-topic">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Datos de Familiar</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-Family">
                                <div class="mb-3">
                                    <label for="IdPaciente" class="form-label">Identififcacion del paciente</label>
                                    <input type="text" class="form-control" id="IdPaciente" required>
                                    <div class="mb-3">
                                        <label for="NombreFamiliar" class="form-label">Nombre Completo</label>
                                        <input type="text" class="form-control" id="NombreFamiliar" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="relacion" class="form-label">Relación Familiar</label>
                                        <select class="form-select" id="relacion" required>
                                            <option value="esposo">Esposo</option>
                                            <option value="esposa">Esposa</option>
                                            <option value="hijo">Hijo</option>
                                            <option value="hija">Hija</option>
                                            <option value="padre">Padre</option>
                                            <option value="madre">Madre</option>
                                            <option value="abuelo">Abuelo</option>
                                            <option value="abuela">Abuela</option>
                                            <option value="hermano">Hermano</option>
                                            <option value="hermana">Hermana</option>

                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="telefonoFamiliar">Teléfono:</label>
                                        <input type="tel" class="form-control" id="telefonoFamiliar"
                                            placeholder="Teléfono" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="direccion">Dirección:</label>
                                        <input type="text" class="form-control" id="direccion" placeholder="Dirección"
                                            required>
                                    </div>
                                </div>

                        </form>
                    </div>
                    <div class="modal-btns">
                        <div class="modal-footer ">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                            <button type="button" class="btn btn-primary"
                                id="agregarContactoEmergenciaBtn">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- Modal de búsqueda -->
<div class="modal fade" id="buscarContactosEmergencia" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Buscar Contactos de Emergencia</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Por favor, ingrese el ID del paciente al que desea buscar sus contactos de emergencia</p>
                <input type="text" class="form-control" id="idPacienteBuscarEmergencia">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" id="btnBuscarContactos">Buscar</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal de tabla de Contactos de Emergencia -->
<div class="modal fade" id="contactosEmergenciaModal" tabindex="-1" role="dialog"
    aria-labelledby="contactosEmergenciaModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="contactosEmergenciaModalLabel">Contactos de Emergencia</h5>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <!-- <th scope="col">ID</th> -->
                                <th scope="col">Nombre Completo</th>
                                <th scope="col">Teléfono</th>
                                <th scope="col">Relación Familiar</th>
                                <th scope="col">Dirección</th>
                            </tr>
                        </thead>
                        <tbody id="tablaContactosEmergencia">
                            <!-- Aquí se insertarán las filas de la tabla de contactos de emergencia -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

    <!-- Toast Paciente agregado -->

    <div class="position-fixed top-0 end-0 p-3" style="z-index: 100;">
        <div class="toast" id="toastPacienteAgregado" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <img src="/img/HSRA-.svg" class="img-fluid p-md-1" alt="" width="50px" height="50px">
                <strong class="me-auto">Paciente Agregado</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
            </div>
            <div class="toast-body text-white" style="background: linear-gradient(45deg, #007bff, #6c757d);">Paciente
                agregado con éxito.</div>
        </div>
    </div>

    <!-- Toast Paciente eliminado -->

    <div class="position-fixed top-0 end-0 p-3" style="z-index: 100">
        <div class="toast" id="toastPacienteEliminado" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <img src="/img/HSRA-.svg" class="img-fluid p-md-1" alt="" width="50px" height="50px">
                <strong class="me-auto">Paciente Eliminado</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
            </div>
            <div class="toast-body text-white" style="background: linear-gradient(45deg, #007bff, #6c757d);">Paciente
                eliminado con éxito.</div>
        </div>

        <!-- Toast Paciente actualizado -->

        <div class="position-fixed top-0 end-0 p-3" style="z-index: 100">
            <div class="toast" id="toastPacienteActualizado" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <img src="/img/HSRA-.svg" class="img-fluid p-md-1" alt="" width="50px" height="50px">
                    <strong class="me-auto">Paciente Actualizado</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
                </div>
                <div class="toast-body text-white" style="background: linear-gradient(45deg, #007bff, #6c757d);">
                    Paciente actualizado con éxito.</div>
            </div>

            <!-- Toast Paciente no encontrado -->

            <div class="position-fixed top-0 end-0 p-3" style="z-index: 1100">
                <div class="toast" id="toastPacienteNoEncontrado" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="toast-header">
                        <img src="/img/HSRA-.svg" class="img-fluid p-md-1" alt="" width="50px" height="50px">
                        <strong class="me-auto">Paciente no encontrado</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
                    </div>
                    <div class="toast-body text-white" style="background: linear-gradient(45deg, #007bff, #6c757d);">
                        No se encontró ningún paciente con la identificación ingresada.</div>
                </div>
            </div>

            <!-- Toast Buscar Paceinte -->

            <div class="position-fixed top-0 end-0 p-3" style="z-index: 100">
                <div class="toast" id="toastBuscarPaciente" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="toast-header">
                        <img src="/img/HSRA-.svg" class="img-fluid p-md-1" alt="" width="50px" height="50px">
                        <strong class="me-auto">Buscar Paciente</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
                    </div>
                    <div class="toast-body text-white" style="background: linear-gradient(45deg, #007bff, #6c757d);">
                        Paciente Encontrado con éxito</div>
                </div>
            </div>

            <!-- Toast Agregar Contacto de Emergencia -->

            <div class="position-fixed top-0 end-0 p-3" style="z-index: 100">
                <div class="toast" id="toastContactoEmergenciaAgregado" role="alert" aria-live="assertive"
                    aria-atomic="true">
                    <div class="toast-header">
                        <img src="/img/HSRA-.svg" class="img-fluid p-md-1" alt="" width="50px" height="50px">
                        <strong class="me-auto">Contacto de Emergencia Agregado</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
                    </div>
                    <div class="toast-body text-white" style="background: linear-gradient(45deg, #007bff, #6c757d);">
                        Contacto de emergencia agregado con éxito.</div>
                </div>
            </div>

            <!-- Ingrese todos los datos -->

            <div class="position-fixed top-0 end-0 p-3" style="z-index: 100">
                <div class="toast" id="toastIngreseDatos" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="toast-header">
                        <img src="/img/HSRA-.svg" class="img-fluid p-md-1" alt="" width="50px" height="50px">
                        <strong class="me-auto">Ingrese todos los datos</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
                    </div>
                    <div class="toast-body text-white" style="background: linear-gradient(45deg, #007bff, #6c757d);">
                        Por favor, ingrese todos los datos del paciente.</div>
                </div>
            </div>

            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
                crossorigin="anonymous"></script>
            <script src="/Js/patients.js"></script>
            <script src="/Js/crudPatients.js"></script>

</body>

</html>